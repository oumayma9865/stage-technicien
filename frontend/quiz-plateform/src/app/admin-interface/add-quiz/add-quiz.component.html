<div class="wrapper" >
  <app-sidebar-admin></app-sidebar-admin>
  <div class="main-content">
    <app-navbar-admin class="navbar-custom" ></app-navbar-admin>
    <div class="add-quiz-container">
      <h2><i class="fas fa-question-circle"></i> Créer un nouveau quiz</h2>
      <form #quizForm="ngForm" (ngSubmit)="submitQuiz(quizForm)">
        <div class="content">
          <div class="grid-container">
            <div class="section">
              <h5>Titre du quiz</h5>
              <input required type="text" [(ngModel)]="quizTitle" name="quizTitle" >
            </div>
            <div class="section">
              <h5>Domaine</h5>
              <input required type="text" [(ngModel)]="domain" name="domain" >
              
            </div>
            <div class="section">
              <h5>Score</h5>
              <input required type="number" [(ngModel)]="score" name="score" >
             
            </div>
            <div class="section">
              <h5>Temps</h5>
              <input required type="text" [(ngModel)]="time" name="time"  placeholder="00:30:00">
            
            </div>
            <div class="section">
              <h5>Compétence</h5>
              <input required type="text" [(ngModel)]="skill.skill" name="skill" > 
            </div>
            <div class="section">
              <h5>Difficulté</h5>
              <select required [(ngModel)]="difficulty" name="difficulty" >
                <option value="Débutant">Débutant</option>
                <option value="Intermédiaire">Intermédiaire</option>
                <option value="Avancé">Avancé</option>
              </select>
             
            </div>
          </div>
          <div class="section questions-section">
            <h5>Questions</h5>
            <div *ngFor="let question of questions; let i = index">
              <div class="question">
                <input required type="text" [(ngModel)]="question.question" name="question{{i}}" #question="ngModel" placeholder="Entrez la question">
                <div class="options">
                  <div *ngFor="let option of question.options; let j = index">
                    <input required type="text" [(ngModel)]="option.texte" name="option{{i}}{{j}}" #option="ngModel" placeholder="Option {{ j + 1 }}">
                    
                    <input type="checkbox" [(ngModel)]="option.correct" name="correct{{i}}{{j}}"> Correcte
                  </div>
                </div>
                <button class="remove-btn" (click)="removeQuestion(i)"><i class="fas fa-trash-alt"></i> Supprimer la question</button>
              </div>
            </div>
            <button class="add-btn" (click)="addQuestion()"><i class="fas fa-plus-circle"></i> Ajouter une question</button>
          </div>
        </div>
        <div class="next-step">
          <button type="submit" [disabled]="quizForm.invalid">Soumettre le quiz <i class="fas fa-arrow-right" style="margin-left: 8px;"></i></button>
        </div>
      </form>
    </div>
  </div>
</div>
